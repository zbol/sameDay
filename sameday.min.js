!function(){"use strict";var e={},t={settings:e,changeCart:function(){function e(){$(".row.sd-delivery").length>=2&&$('input[type="checkbox"]:checked').length&&$('.wrap input[type="checkbox"]').addClass("is-checked"),$(".row.sd-delivery").length>=2&&$('input[type="checkbox"]:checked').length<1&&$('.wrap input[type="checkbox"]').removeClass("is-checked")}function a(){if($(".cart-form .row").length>=2&&$(".cart-form .row:not(.sd-delivery)").length){$(".sd-delivery").append('<p class="exp-non-qualify">Your order contains an item that doesn’t qualify for same-day delivery. All items will now ship via 2-day delivery. To receive same-day delivery, please remove non-qualifying item.</p>'),$(".sd-delivery .wrap").addClass("hide-button");var e=$(".sd-delivery .giftWrapped:checked");if(e.length)for(t=0;t<e.length;t++){var a=e[t].next("label.no-span");a.trigger("click")}}if($(".row.sd-delivery .value-qty").val()>1){$(".sd-delivery .wrap").addClass("hide-button");var e=$(".sd-delivery .giftWrapped:checked");e.length&&e.each(function(e){var t=$(this).next("label.no-span");t.trigger("click")}),$(".row.sd-delivery .value-qty").each(function(t){var a=parseInt($(this).val());if(a>1){var i=$(this).closest(".row.sd-delivery");e.length&&$(this).css("border","solid 1px #E74C3C"),i.append('<p class="exp-non-qualify">Maximum quanity selected cannot exceed 1 for same-day delivery.</p>')}})}$(".row.sd-delivery .value-qty").val()>1}function i(){$(".paypalbutton").addClass("hide-button"),$(".paypal-sameday").length||$(".paypalbutton").after('<p class="paypal-sameday">Check Out with PayPal is not available with same-day shipping</p>')}function s(){$(".paypalbutton").removeClass("hide-button"),$(".paypal-sameday").length&&$(".paypal-sameday").remove()}function r(){1==$("#newCheckoutShowGiftMessageArea").is(":visible")&&o(),$("#newCheckoutGiftMessageArea").addClass("shipping-instructions"),$("#newCheckoutGiftMessageArea h3").html("Delivery Instructions For Courier <span>(Optional)</span>"),$("#giftMessage").attr("rows","3").attr("placeholder","Example (max 150 characters): Gate code, ring the door bell, etc"),$("#WC_SingleShipmentOrderTotalsSummary_td_Custom_5").text("Same-day Delivery"),$("#WC_SingleShipmentOrderTotalsSummary_td_7").hide(),$("#WC_SingleShipmentOrderTotalsSummary_td_8").hide()}function o(){$("#newCheckoutShowGiftMessageArea h3").text("Delivery Instructions For Courier:"),$(".giftMessageMessage .left").text("Instructions:").hide()}function l(){var e=$("input.orderItemIds").val(),t={};t.upc=e,t.sameDay=!0,localStorage.setItem("shipMethod",JSON.stringify(t))}$("#ShopCartPagingDisplay").length&&($(".sd-delivery .wrap label").html("Click here for <span>same-day delivery</span> ($4.99)"),$(".sd-delivery .wrap").append('<a class="see-details tool-open-close">See details</a> <span class="tooltipContent">Select Same-Day Shipping at checkout for just $4.99 more and we’ll get them to you today. Your items will arrive within 5 hours of your order being placed. Same-day delivery only available in select zip codes. Zip codes include: 10002, 10003, 10005, 10006, 10007, 10008, 10009, 10010, 10011, 10012, 10013, 10014, 10015, 10016, 10017, 10018, 10019, 10021, 10022, 10023, 10024, 10025, 10029, 10036, 10044, and 10128. Orders must be placed by 5pm local time in order to guarantee a 10pm delivery. Orders placed after the cutoff time will arrive by 2pm the next day. Same-day orders require a signature when the delivery arrives. Items subject to local availability. Same-day orders can be returned in store or can be returned via mail. <a target="_blank" title="Print Return Label" href="http://sunglass.upsrow.com/">Click here</a> to print a return label.<span class="close-tool tool-open-close">&#10006;</span><span class="arrow"></span></span>'),$(".sd-delivery .wrap").show(),1==$("#newCheckoutGiftMessageArea").is(":visible")&&(r(),l(),i(),1==$("#newCheckoutShowGiftMessageArea").is(":visible")&&o()),a(),e(),$(".giftWrapped").change(function(){r(),e(),1==$("#newCheckoutGiftMessageArea").is(":visible")?(i(),l()):(null!=localStorage.getItem("shipMethod")&&localStorage.removeItem("shipMethod"),$("#WC_SingleShipmentOrderTotalsSummary_td_7").show(),$("#WC_SingleShipmentOrderTotalsSummary_td_8").show(),s()),console.log("change"),$(document).ajaxStop(function(e,t,a){1==$("#newCheckoutGiftMessageArea").is(":visible")&&o()})}),$(".tool-open-close").on("click",function(){var e=$(this).closest(".wrap");e.find(".tooltipContent").toggle()}))},changeShipping:function(){function e(){var e=document.getElementsByClassName("brand-container");if(e.length)for(t=0;t<e.length;t++){var a=e[t].innerHTML.replace(/gift wrap/g,"");e[t].innerHTML=a}}function a(){$("#newCheckoutShowGiftMessageArea h3").text("Delivery Instructions For Courier:"),$("#newCheckoutShowGiftMessageArea").append('<div class="ship-edit-container"><a href="/webapp/wcs/stores/servlet/AjaxOrderItemDisplayView?catalogId=10101&langId=-1&storeId=10152" class="ship-edit">Edit</a></div>'),$("#WC_SingleShipmentOrderTotalsSummary_td_Custom_5").text("Same-day Delivery"),$("#WC_SingleShipmentOrderTotalsSummary_td_7").hide(),$("#WC_SingleShipmentOrderTotalsSummary_td_8").hide()}function i(e){var t={};if(null!=localStorage.getItem("shipMethod"))var a=JSON.parse(localStorage.shipMethod).upc,i=JSON.parse(localStorage.shipMethod).sameDay;t.upc=a,t.sameDay=i,t.validZip=e,localStorage.setItem("shipMethod",JSON.stringify(t))}function s(e){var t,a,s,r=e,o=JSON.parse(localStorage.shipMethod).upc,l=["10002","10003","10005","10006","10007","10008","10009","10010","10011","10012","10013","10014","10015","10016","10017","10018","10019","10021","10022","10023","10024","10025","10029","10036","10044","10128"],n=r.val();l.length;for(t=0;t<l.length;++t)if(a=l[t],n.startsWith(a)){s=a;break}if(s)$(".zip-sameday-error").length&&$(".zip-sameday-error").remove(),i(!0),r.removeClass("required"),$(".same-day-method").removeClass("required").show(),$(".shipping_method_content").hide(),$("#WC_SingleShipmentOrderTotalsSummary_td_Custom_5, #gift, #WC_SingleShipmentOrderTotalsSummary_td_Custom_6").show(),$("#WC_SingleShipmentOrderTotalsSummary_td_7, #WC_SingleShipmentOrderTotalsSummary_td_8").hide(),$(".same-day-method").removeClass("required");else{if(!$(".zip-sameday-error").length){r.addClass("required").after('<span class="zip-sameday-error required">The address you entered is not eligible for same-day delivery. Please Change your address or continue shopping with two-day shipping</span>'),$(".same-day-method").addClass("required").hide(),$("#WC_SingleShipmentOrderTotalsSummary_td_Custom_5, #gift, #WC_SingleShipmentOrderTotalsSummary_td_Custom_6").hide(),$("#WC_SingleShipmentOrderTotalsSummary_td_7, #WC_SingleShipmentOrderTotalsSummary_td_8").show(),$(".shipping_method_content").show();var o=JSON.parse(localStorage.shipMethod).upc,d=$("#ship_giftWrapped");d.checked=!1,$("#cart-body .green-button").on("click",function(){$("#monetate_selectorHTML_65bc7c9e_0").length&&(document.getElementById("monetate_selectorHTML_65bc7c9e_0").innerHTML='<div data-loader="ball-pulse"></div>'),0==JSON.parse(localStorage.shipMethod).validZip&&(NewCheckoutJS.removeGiftOptions(d,o),null!=localStorage.getItem("shipMethod")&&localStorage.removeItem("shipMethod")),$(document).ajaxStop(function(e,t,a){$("#monetate_selectorHTML_65bc7c9e_0").length&&(document.getElementById("monetate_selectorHTML_65bc7c9e_0").innerHTML='<svg height="15px" id="Capa_1" style="enable-background:new 0 0 397.129 397.129;" version="1.1" viewBox="0 0 397.129 397.129" width="15px" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px"> <g> <path fill="#FFFFFF" d="M318.303,163.141h-18.242V85c0-46.869-38.131-85-85-85h-32.993c-46.869,0-85,38.131-85,85v78.141H78.825 c-9.314,0-16.866,7.551-16.866,16.865v200.258c0,9.312,7.552,16.865,16.866,16.865h239.479c9.314,0,16.865-7.553,16.865-16.865 V180.006C335.17,170.692,327.619,163.141,318.303,163.141z M147.068,85.001c0-19.299,15.701-35,35-35h32.993 c19.299,0,35,15.701,35,35v78.141H147.068V85.001z"></path> </g> </svg>')})})}i(!1)}}if($("#shippingAddressCreateEditFormDiv_1").length&&null!=localStorage.getItem("shipMethod")){var r=JSON.parse(localStorage.shipMethod).upc,o="checked";if(a(),$("#WC_SingleShipmentShippingMethodDetails_div_1 h3").after('<p class="same-day-method">Same-day Delivery: <span>$4.99</span> <a href="/webapp/wcs/stores/servlet/AjaxOrderItemDisplayView?catalogId=10101&langId=-1&storeId=10152" class="ship-edit">Edit</a></div></p>'),$(".shipping_method_content").hide(),$("#shppingMethodDiv").append('<input id="ship_giftWrapped" type="hidden" value="'+r+'" checked="'+o+'">').append('<input type="hidden" class="orderItemIds" name="orderItemId_1" value="'+r+'">'),$(".mapquest-lookup").change(function(){s($(this))}),$(".mapquest-lookup").val()){var l=$(".mapquest-lookup");s(l)}if($(".address-block").length){var l=$(".shipAddress:visible .pixel_zip");$("#singleShipmentAddress").change(function(){l=$(".shipAddress:visible .pixel_zip"),setTimeout(function(){s(l)},300)}),s(l)}}if($("#cart-body .section-header.billing").length&&null!=localStorage.getItem("shipMethod"))if(1==JSON.parse(localStorage.shipMethod).validZip){var r=JSON.parse(localStorage.shipMethod).upc,o="checked";a(),e(),$("#shppingMethodDiv").append('<input id="ship_giftWrapped" type="hidden" value="'+r+'" checked="'+o+'">').append('<input type="hidden" class="orderItemIds" name="orderItemId_1" value="'+r+'">'),$(".paypal").addClass("hide-button"),$(".paypal").after('<p class="paypal-sameday">Check Out with PayPal is not available with same-day shipping</p>')}else if(0==JSON.parse(localStorage.shipMethod).validZip){var r=JSON.parse(localStorage.shipMethod).upc;$("#ship_giftWrapped")}$("#cart-body.has-steps.review").length&&1==JSON.parse(localStorage.shipMethod).validZip&&(a(),e(),$("#WC_SingleShipmentOrderTotalsSummary_td_Custom_5").text("Same-day Delivery"),$(".shipping_method_content").text("Same-day Delivery: $4.99"),$("#shippingMethodDiv .edit-link a").attr("href","/webapp/wcs/stores/servlet/AjaxOrderItemDisplayView?catalogId=10101&langId=-1&storeId=10152"))},init:function(){return this.changeCart(),this.changeShipping(),this}};window.expSameDay=t}(),$(function(){($(".sd-delivery").length||null!=localStorage.getItem("shipMethod"))&&expSameDay.init()});